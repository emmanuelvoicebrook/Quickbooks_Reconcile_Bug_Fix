<template>
    <div class="searchBox">
        <lightning-input label={fieldlabel} type="text" role="textbox" required={getRequired}
                        value={label} aria-controls="listbox-id-11" onkeyup={handleKeyPress} onblur={closeDropdown}
                        id="select-sobject-id" autocomplete="off" data-id="select-sobject-id" onchange={stopPropagation}
                        aria-autocomplete="list" placeholder={placeholder} title={label} onclick={handleInputClick}
                        variant={variant}>
        </lightning-input>

        <div class="slds-form-element_control">
            <div class="slds-combobox_container">
                <div class={dropDownClass} aria-expanded="true" aria-haspopup="listbox" role="combobox">
                    <div id="listbox-id-11" class="slds-dropdown slds-dropdown_fluid" role="listbox">
                        <!-- <lightning-spinner alternative-text="Loading" size="small"></lightning-spinner> -->
                        <template if:true={optionsToDisplay}>
                            <ul class="slds-listbox slds-listbox_vertical slds-dropdown_length-5 customClass" tabindex="0"
                                role="presentation">
                                <template for:each={optionsToDisplay} for:item="option">
                                    <li key={option.value} role="presentation" class="slds-listbox__item"
                                        data-label={option.label} data-value={option.value} onclick={optionsClickHandler}
                                        title={option.label}>
                                        <div id={option.value}
                                            class="slds-media slds-listbox__option slds-listbox__option_plain slds-media_small"
                                            role="option">
                                            <span class="slds-media__figure slds-listbox__option-icon"></span>
                                            <span class="slds-truncate">
                                                <span>{option.label}</span>
                                            </span>
                                        </div>
                                    </li>
                                </template>
                            </ul>
                        </template>
                        <template if:true={emptyOptions}>
                            <lightning-spinner alternative-text="Loading" size="small"></lightning-spinner>
                        </template>

                    </div>
                    <div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</template>